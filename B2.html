<!DOCTYPE html>
<html>
<head>
<title>React in Notepad</title>
<script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
<script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
<script type="text/javascript" src="https://unpkg.com/babel-standalone@6/babel.js"></script>
<style>
body {
  font-family: Arial, serif;
  background: #f7f7f7;
  text-align: center;
  padding: 40px;
}
#calculator {
  display: inline-block;
  background: white;
  padding: 20px;
  border-radius: 12px;
  box-shadow: 0 0 12px rgba(0, 0, 0, 0.2);
}
.display {
  width: 100%;
  font-size: 24px;
  padding: 10px;
  margin-bottom: 10px;
  border: 1px solid #ccc;
  text-align: right;
  border-radius: 6px;
  min-height: 40px;
  word-wrap: break-word;
}
.button-grid {
  display: grid;
  grid-template-columns: repeat(4, 60px);
  gap: 10px;
  justify-content: center;
}
button {
  padding: 15px;
  font-size: 18px;
  border: none;
  background-color: #28a745;
  color: white;
  border-radius: 8px;
  cursor: pointer;
  user-select: none;
}
.operator:hover {
  background-color: #1e7e34;
}
.equals {
  background-color: orange;
}
.clear {
  background-color: #dc3545;
}
</style>
</head>
<body>
<h2>React Calculator with Buttons</h2>
<div id="root"></div>
<script type="text/babel">
function Calculator() {
  const [input, setInput] = React.useState('');
  const [result, setResult] = React.useState('');

  const operators = ['+', '-', '*', '/'];

  const handleClick = (value) => {
    if (value === '=') {
      if (input === '') return; // don't evaluate empty input
      try {
        setResult(eval(input).toString());
      } catch {
        setResult("Error");
      }
    } else if (value === 'C') {
      setInput('');
      setResult('');
    } else {
      // Prevent multiple operators in a row
      const lastChar = input.slice(-1);

      if (operators.includes(value)) {
        // Don't allow operator as first char except minus
        if (input === '' && value !== '-') return;

        // If last char is also operator, replace it with current operator
        if (operators.includes(lastChar)) {
          setInput(input.slice(0, -1) + value);
          setResult('');
          return;
        }
      }

      setInput(input + value);
      setResult('');
    }
  };

  const buttons = [
    '7', '8', '9', '/',
    '4', '5', '6', '*',
    '1', '2', '3', '-',
    '0', '.', '=', '+',
    'C'
  ];

  return (
    <div id="calculator">
      <div className="display">
        {result || input || '0'}
      </div>
      <div className="button-grid">
        {buttons.map((btn) => (
          <button
            key={btn}
            onClick={() => handleClick(btn)}
            className={
              btn === '=' ? 'equals' :
              btn === 'C' ? 'clear' :
              operators.includes(btn) ? 'operator' :
              ''
            }
          >
            {btn}
          </button>
        ))}
      </div>
    </div>
  );
}

const root = ReactDOM.createRoot(document.getElementById('root'));
root.render(<Calculator />);
</script>
</body>
</html>
